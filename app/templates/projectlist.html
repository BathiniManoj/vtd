{% extends "base.html" %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/bloglist.css' %}">

<section class="page-section">

  <!-- Breadcrumb Area -->
  <div class="tp-breadcrumb-area tp-breadcrumb-ptb include-bg"
       style="background-image: url('{% static 'img/projects/projects-bg.png' %}');">
    <div class="container container-1330">
      <div class="row justify-content-center">
        <div class="col-xxl-10 text-center">
          <div class="tp-blog-heading-wrap p-relative pb-130">
            <span class="tp-section-subtitle pre tp_fade_anim">Projects</span>
            <h3 class="tp-blog-title tp_fade_anim smooth">
              Featured Projects <br>
              <a href="#down" class="scroll-down-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none">
                  <path d="M9.99999 1V19M9.99999 19L1 10M9.99999 19L19 10"
                        stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round" />
                </svg>
              </a>
              <br><small class="text-muted">worth exploring...</small>
            </h3>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Projects Section -->
  <div class="container py-5" id="down">
    <div class="row g-4">
      {% for project in projects %}
        <div class="col-md-6 col-lg-4">
          <div class="blog-card h-100 shadow-sm rounded overflow-hidden">

            {% if project.image %}
              <div class="blog-card-thumb">
                <a href="{% url 'project_detail' project.slug %}">
                  <img src="{{ project.image.url }}" alt="{{ project.title }}" class="img-fluid w-100">
                </a>
              </div>
            {% endif %}

            <div class="blog-card-content p-3 d-flex flex-column justify-content-between h-100">
              <div>
                <h4 class="blog-card-title mb-2">
                  <a href="{% url 'project_detail' project.slug %}">{{ project.title }}</a>
                </h4>

                <p class="text-secondary mb-3">{{ project.short_description|truncatewords:25 }}</p>

                {% if project.technologies_used %}
                  <p class="text-muted small mb-2">
                    <strong>Tech:</strong> {{ project.technologies_used }}
                  </p>
                {% endif %}
              </div>

              <div class="blog-card-btn mt-auto pt-2">
                {% if project.project_url %}
                  <a href="{{ project.project_url }}" target="_blank" rel="noopener noreferrer" class="btn btn-sm btn-outline-primary">Live Demo</a>
                {% else %}
                  <a href="{% url 'project_detail' project.slug %}" class="btn btn-sm btn-outline-secondary">View Details</a>
                {% endif %}
              </div>
            </div>
          </div>
        </div>
      {% empty %}
        <div class="col-12 text-center">
          <p class="text-muted">No projects available at the moment.</p>
        </div>
      {% endfor %}
    </div>
  </div>

</section>
{% endblock %}
